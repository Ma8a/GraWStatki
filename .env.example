PORT=3000
NODE_ENV=development

# Comma-separated allowlist for Socket.IO and HTTP origins.
# Use explicit values in production. Example:
# CORS_ORIGINS=https://twoja-domena.pl,https://www.twoja-domena.pl
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
REQUIRE_ORIGIN_HEADER=false

# Proxy trust for forwarded headers. Set true/1 when behind trusted reverse proxy.
TRUST_PROXY=false

# Queue and room timers
MATCH_TIMEOUT_MS=60000
ROOM_INACTIVITY_TIMEOUT_MS=600000
ROOM_RECONNECT_GRACE_MS=3000
RECONNECT_TOKEN_TTL_MS=3600000
SOCKET_PRESENCE_TTL_MS=45000
SOCKET_PRESENCE_REFRESH_MS=15000
READY_PING_TIMEOUT_MS=800
READY_CACHE_MS=250
ROOM_SNAPSHOT_TTL_MS=1800000
QUEUE_ENTRY_TTL_MS=3600000
QUEUE_PARKED_TTL_MS=3600000

# Socket payload limits
SOCKET_MAX_PAYLOAD_BYTES=128000

# Rate limits
RATE_LIMIT_SHOT_PER_WINDOW=90
RATE_LIMIT_SHOT_WINDOW_MS=1000
RATE_LIMIT_PLACE_SHIPS_PER_WINDOW=20
RATE_LIMIT_PLACE_SHIPS_WINDOW_MS=1500
RATE_LIMIT_JOIN_PER_WINDOW=8
RATE_LIMIT_RECONNECT_JOIN_PER_WINDOW=12
RATE_LIMIT_JOIN_WINDOW_MS=1500
RATE_LIMIT_GAME_CANCEL_PER_WINDOW=8
RATE_LIMIT_SEARCH_CANCEL_PER_WINDOW=8

# Invalid payload soft-ban
INVALID_INPUT_LIMIT_PER_WINDOW=12
INVALID_INPUT_WINDOW_MS=10000
INVALID_INPUT_BAN_MS=30000

# Future infra (prepared for Redis/PostgreSQL)
REDIS_URL=redis://localhost:6379
REDIS_KEY_PREFIX=
REDIS_REQUIRED=false
DATABASE_URL=postgres://battleship:battleship@localhost:5432/battleship
DATABASE_REQUIRED=false
DB_POOL_MAX=8
DB_IDLE_TIMEOUT_MS=10000
DB_CONNECT_TIMEOUT_MS=3000
MATCH_EVENTS_RETENTION_DAYS=30
SECURITY_EVENTS_RETENTION_DAYS=30
MATCHES_RETENTION_DAYS=90
DB_RETENTION_DRY_RUN=false
